---
title: "NIP-27 (テキストノート参照)"
date: 2026-02-04
description: "NIP-27はnostr: URIスキームを使用してノートコンテンツ内でプロファイル、ノート、その他のエンティティを参照する方法を定義します。"
---

NIP-27はテキストノートのコンテンツ内にNostrエンティティへの参照を埋め込む方法を指定します。参照は`nostr:` URIスキームの後にbech32エンコードされた識別子（npub、note、nevent、nprofile、naddr）を使用します。

## 仕組み

別のユーザーにメンションしたり、別のイベントを参照するノートを作成する際、参照はコンテンツに直接埋め込まれます：

```
Check out this post by nostr:npub1... about nostr:note1...
```

クライアントはこれらの参照を解析し、適切にレンダリングします。通常はクリック可能なリンクやインラインプロファイルカードとして表示されます。参照されたエンティティは、インデックス作成と通知の目的でイベントのタグにも追加されます。

このNIPはハッシュタグの解析もカバーしています。`#`で始まるタグは抽出され、検索可能性のためにイベントの`t`タグに追加されます。

## 参照タイプ

- `nostr:npub1...` - ユーザープロファイルへの参照
- `nostr:note1...` - 特定のノートイベントへの参照
- `nostr:nevent1...` - リレーヒント付きイベントへの参照
- `nostr:nprofile1...` - リレーヒント付きプロファイルへの参照
- `nostr:naddr1...` - アドレス可能イベントへの参照

## 実装

すべての主要なNostrクライアントがNIP-27を実装しています：
- テキストパーサーが作成中に参照を抽出
- レンダラーが参照をインタラクティブな要素として表示
- 通知システムが関連タグを使用

## 主要ソース

- [NIP-27仕様](https://github.com/nostr-protocol/nips/blob/master/27.md)
- [NIP-19 (Bech32エンコードエンティティ)](/ja/topics/nip-19/) - 参照で使用されるエンコード形式を定義

## 言及されている記事

- [Newsletter #8 (2026-02-04)](/ja/newsletters/2026-02-04-newsletter/) - nostr-toolsの改行後のハッシュタグ解析の修正
