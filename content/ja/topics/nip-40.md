---
title: "NIP-40: 有効期限タイムスタンプ"
date: 2025-12-17
draft: false
categories:
  - Protocol
---

NIP-40はイベントを削除すべき時期をリレーに伝える有効期限タグを定義します。

## 構造

イベントにはUnixタイムスタンプを含む`expiration`タグが含まれます:

```json
["expiration", "1734567890"]
```

この時間以降、リレーはイベントを削除し、提供を拒否すべきです。

## ユースケース

- 設定時間後に消えるべき一時的なコンテンツ
- 期間限定のオファーやアナウンス
- マーケットプレイスでのリスティング有効期限（例: Shopstr）
- リレーのストレージ要件の削減

## 考慮事項

- リレーは有効期限を尊重する義務はない（が、ほとんどは尊重する）
- クライアントはセキュリティ上重要なコンテンツ削除のために有効期限に頼るべきではない
- コンテンツが別のクライアントによって取得されると、キャッシュされたり再公開される可能性がある

---

**主要ソース:**
- [NIP-40仕様](https://github.com/nostr-protocol/nips/blob/master/40.md)

**言及箇所:**
- [ニュースレター #1: ニュース](/ja/newsletters/2025-12-17-newsletter/#news)

